<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentinel | Healthcare Cyber-Resilience Platform</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="brand">
                <span class="brand-icon">üõ°Ô∏è</span>
                SENTINEL
            </div>
            <div class="nav-section">
                <a href="/" class="nav-item active">üìä Dashboard</a>
                <a href="/threat-map.html" class="nav-item">üó∫Ô∏è Threat Map</a>
                <a href="/api-traffic.html" class="nav-item">üìà API Traffic</a>
                <a href="/settings.html" class="nav-item">‚öôÔ∏è Settings</a>
            </div>
            <div class="sidebar-footer">
                <div class="layer-status">
                    <div class="layer-title">Detection Layers</div>
                    <div class="layer-item">
                        <span class="layer-dot active"></span> Rules Engine
                    </div>
                    <div class="layer-item">
                        <span class="layer-dot" id="layer2-dot"></span> AI Autoencoder
                    </div>
                    <div class="layer-item">
                        <span class="layer-dot active"></span> Graph Analysis
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <div class="header-left">
                    <h1>Security Command Center</h1>
                    <p class="subtitle">Healthcare Cyber-Resilience Platform</p>
                </div>
                <div class="header-right">
                    <div id="system-status" class="status-badge LOW">LOW RISK</div>
                </div>
            </div>

            <!-- Risk Rate Section -->
            <div class="risk-section">
                <div class="risk-meter-card">
                    <div class="risk-header">
                        <h3>üéØ RISK RATE</h3>
                        <div class="risk-info" title="How Risk is Calculated">
                            <span class="info-icon">‚ÑπÔ∏è</span>
                            <div class="risk-tooltip">
                                <strong>Risk Rate Calculation:</strong><br>
                                40% √ó Rules Risk<br>
                                40% √ó AI Risk<br>
                                20% √ó Graph Risk<br><br>
                                <strong>Severity Levels:</strong><br>
                                < 30%=LOW (Safe)<br>
                                    30-70% = MEDIUM<br>
                                    > 70% = HIGH (Danger)
                            </div>
                        </div>
                    </div>
                    <div class="risk-meter">
                        <div class="risk-gauge">
                            <div class="risk-fill" id="risk-fill"></div>
                            <div class="risk-value" id="risk-rate">0%</div>
                        </div>
                        <div class="risk-scale">
                            <span>0%</span>
                            <span class="scale-low">LOW</span>
                            <span class="scale-mid">MEDIUM</span>
                            <span class="scale-high">HIGH</span>
                            <span>100%</span>
                        </div>
                    </div>
                    <div class="layer-breakdown">
                        <div class="layer-bar">
                            <span class="layer-label">Rules</span>
                            <div class="layer-progress">
                                <div class="layer-fill" id="layer1-fill"></div>
                            </div>
                            <span class="layer-value" id="layer1-value">0%</span>
                        </div>
                        <div class="layer-bar">
                            <span class="layer-label">AI</span>
                            <div class="layer-progress">
                                <div class="layer-fill" id="layer2-fill"></div>
                            </div>
                            <span class="layer-value" id="layer2-value">0%</span>
                        </div>
                        <div class="layer-bar">
                            <span class="layer-label">Graph</span>
                            <div class="layer-progress">
                                <div class="layer-fill" id="layer3-fill"></div>
                            </div>
                            <span class="layer-value" id="layer3-value">0%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Stats Grid -->
            <div class="stats-grid-4">
                <div class="stat-card">
                    <div class="stat-icon">‚ö†Ô∏è</div>
                    <div class="stat-content">
                        <div class="stat-value" id="active-alerts">0</div>
                        <div class="stat-label">Active Threats</div>
                    </div>
                </div>
                <div class="stat-card ai-card">
                    <div class="stat-icon">üì∂</div>
                    <div class="stat-content">
                        <div class="stat-value" id="ai-confidence">--</div>
                        <div class="stat-label">Traffic Normality
                            <span class="info-icon-small" title="Traffic Normality (Autoencoder AI):

HOW IT WORKS:
Autoencoder trained on NORMAL traffic patterns.
Measures how well traffic matches the baseline.

SCORE MEANING:
‚Ä¢ HIGH (80%+) = Traffic matches baseline = NORMAL ‚úì üü¢
‚Ä¢ MEDIUM (60-80%) = Some deviation = Suspicious üü°
‚Ä¢ LOW (below 60%) = Large deviation = ATTACK! ‚ö†Ô∏è üî¥

WHY LOW = ATTACK:
The AI was trained on NORMAL data only.
Attack traffic doesn't match the baseline.
‚Üí High reconstruction error
‚Üí LOW normality score
‚Üí Anomaly detected!

Score DROPS when attacks occur!">‚ÑπÔ∏è</span>
                        </div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üìä</div>
                    <div class="stat-content">
                        <div class="stat-value" id="total-reqs">0</div>
                        <div class="stat-label">Requests Analyzed</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üï∏Ô∏è</div>
                    <div class="stat-content">
                        <div class="stat-value" id="graph-nodes">0</div>
                        <div class="stat-label">Graph Nodes</div>
                    </div>
                </div>
            </div>

            <!-- System Health Section (5 Aspects) -->
            <div class="health-section">
                <div class="section-header">
                    <h3>üíª System Health</h3>
                    <div class="health-score-badge">
                        <span id="health-score">100</span>
                        <span class="score-label">/ 100</span>
                    </div>
                </div>
                <div class="health-aspects">
                    <!-- 1. Availability -->
                    <div class="health-aspect" id="aspect-availability">
                        <div class="aspect-icon">üü¢</div>
                        <div class="aspect-info">
                            <div class="aspect-name">Availability</div>
                            <div class="aspect-status" id="availability-status">ONLINE</div>
                        </div>
                        <div class="aspect-detail" id="availability-detail">Uptime: 0m</div>
                    </div>
                    <!-- 2. Performance -->
                    <div class="health-aspect" id="aspect-performance">
                        <div class="aspect-icon">‚ö°</div>
                        <div class="aspect-info">
                            <div class="aspect-name">Performance</div>
                            <div class="aspect-status" id="performance-status">HEALTHY</div>
                        </div>
                        <div class="aspect-detail" id="performance-detail">CPU: 0% | RAM: 0%</div>
                    </div>
                    <!-- 3. Security State -->
                    <div class="health-aspect" id="aspect-security">
                        <div class="aspect-icon">üõ°Ô∏è</div>
                        <div class="aspect-info">
                            <div class="aspect-name">Security State</div>
                            <div class="aspect-status" id="security-status">NORMAL</div>
                        </div>
                        <div class="aspect-detail" id="security-detail">0 alerts | 0 blocked</div>
                    </div>
                    <!-- 4. Integrity -->
                    <div class="health-aspect" id="aspect-integrity">
                        <div class="aspect-icon">üîí</div>
                        <div class="aspect-info">
                            <div class="aspect-name">Integrity</div>
                            <div class="aspect-status" id="integrity-status">VERIFIED</div>
                        </div>
                        <div class="aspect-detail" id="integrity-detail">No unauthorized changes</div>
                    </div>
                    <!-- 5. Resilience -->
                    <div class="health-aspect" id="aspect-resilience">
                        <div class="aspect-icon">‚ôªÔ∏è</div>
                        <div class="aspect-info">
                            <div class="aspect-name">Resilience</div>
                            <div class="aspect-status" id="resilience-status">ACTIVE</div>
                        </div>
                        <div class="aspect-detail" id="resilience-detail">Auto-isolation enabled</div>
                    </div>
                </div>
            </div>


            <!-- Resilience Control Panel (Fully Automated) -->
            <div class="resilience-section compact">
                <div class="section-header">
                    <h3>üîÑ Cyber Resilience Lifecycle</h3>
                    <span class="resilience-state" id="resilience-state">MONITORING</span>
                </div>
                <!-- Individual IP lifecycles are shown in each blocked IP row below -->
                <div class="blocked-ips-section expanded">
                    <h4>üö´ Auto-Blocked IPs (<span id="blocked-count">0</span>)</h4>
                    <p class="lifecycle-hint">Each IP shows its own DETECT‚ÜíBLOCK‚ÜíCLEAN‚ÜíREACTIVATE progress</p>
                    <div class="blocked-ips-list" id="blocked-ips-list">
                        <div class="no-blocked">No blocked IPs - System Secure ‚úÖ</div>
                    </div>
                </div>
            </div>

            <!-- Alert Feed -->
            <div class="alert-section">
                <div class="section-header">
                    <h3>üîî Live Alert Feed</h3>
                    <span class="alert-count" id="alert-count">0 alerts</span>
                </div>
                <div class="logs-container" id="alert-feed">
                    <div class="log-entry safe">‚úÖ System initialized. Waiting for traffic...</div>
                </div>
            </div>
        </div>
    </div>
    <script src="/js/dashboard.js?v=10"></script>
</body>

</html>